<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_232) on Tue Dec 24 19:09:36 EET 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FunctionRegistryHolder (Apache Drill Root POM 1.17.0 API)</title>
<meta name="date" content="2019-12-24">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FunctionRegistryHolder (Apache Drill Root POM 1.17.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FunctionRegistryHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolderTest.html" title="class in org.apache.drill.exec.expr.fn.registry"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html" target="_top">Frames</a></li>
<li><a href="FunctionRegistryHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.drill.exec.expr.fn.registry</div>
<h2 title="Class FunctionRegistryHolder" class="title">Class FunctionRegistryHolder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.drill.exec.expr.fn.registry.FunctionRegistryHolder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FunctionRegistryHolder</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">Function registry holder stores function implementations by jar name, function name.
 Contains two maps that hold data by jars and functions respectively.
 Jars map contains each jar as a key and map of all its functions with collection of function signatures as value.
 Functions map contains function name as key and map of its signatures and function holder as value.
 All maps and collections used are concurrent to guarantee memory consistency effects.
 Such structure is chosen to achieve maximum speed while retrieving data by jar or by function name,
 since we expect infrequent registry changes.
 Holder is designed to allow concurrent reads and single writes to keep data consistent.
 This is achieved by <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks"><code>ReadWriteLock</code></a> implementation usage.
 Holder has number version which indicates remote function registry version number it is in sync with.
 <p/>
 Structure example:

 <pre>
 JARS
 built-in   -> upper          -> upper(VARCHAR-REQUIRED)
            -> lower          -> lower(VARCHAR-REQUIRED)

 First.jar  -> upper          -> upper(VARCHAR-OPTIONAL)
            -> custom_upper   -> custom_upper(VARCHAR-REQUIRED)
                              -> custom_upper(VARCHAR-OPTIONAL)

 Second.jar -> lower          -> lower(VARCHAR-OPTIONAL)
            -> custom_upper   -> custom_upper(VARCHAR-REQUIRED)
                              -> custom_upper(VARCHAR-OPTIONAL)

 FUNCTIONS
 upper        -> upper(VARCHAR-REQUIRED)        -> function holder for upper(VARCHAR-REQUIRED)
              -> upper(VARCHAR-OPTIONAL)        -> function holder for upper(VARCHAR-OPTIONAL)

 lower        -> lower(VARCHAR-REQUIRED)        -> function holder for lower(VARCHAR-REQUIRED)
              -> lower(VARCHAR-OPTIONAL)        -> function holder for lower(VARCHAR-OPTIONAL)

 custom_upper -> custom_upper(VARCHAR-REQUIRED) -> function holder for custom_upper(VARCHAR-REQUIRED)
              -> custom_upper(VARCHAR-OPTIONAL) -> function holder for custom_upper(VARCHAR-OPTIONAL)

 custom_lower -> custom_lower(VARCHAR-REQUIRED) -> function holder for custom_lower(VARCHAR-REQUIRED)
              -> custom_lower(VARCHAR-OPTIONAL) -> function holder for custom_lower(VARCHAR-OPTIONAL)
 </pre>
 where
 <li><b>First.jar</b> is jar name represented by <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a>.</li>
 <li><b>upper</b> is function name represented by <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang"><code>String</code></a>.</li>
 <li><b>upper(VARCHAR-REQUIRED)</b> is signature name represented by String which consist of function name, list of input parameters.</li>
 <li><b>function holder for upper(VARCHAR-REQUIRED)</b> is <a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn"><code>DrillFuncHolder</code></a> initiated for each function.</li></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#FunctionRegistryHolder--">FunctionRegistryHolder</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#addJars-java.util.Map-int-">addJars</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry">FunctionHolder</a>&gt;&gt;&nbsp;newJars,
       int&nbsp;version)</code>
<div class="block">Adds jars to the function registry.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#containsJar-java.lang.String-">containsJar</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</code>
<div class="block">Checks is jar is present in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#functionsSize--">functionsSize</a></span>()</code>
<div class="block">Returns quantity of functions stored in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#functions"><code>functions</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getAllFunctionsWithHolders--">getAllFunctionsWithHolders</a></span>()</code>
<div class="block">Returns list of functions with list of function holders for each functions without version number.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getAllFunctionsWithHolders-java.util.concurrent.atomic.AtomicInteger-">getAllFunctionsWithHolders</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;version)</code>
<div class="block">Returns list of functions with list of function holders for each functions.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getAllFunctionsWithSignatures--">getAllFunctionsWithSignatures</a></span>()</code>
<div class="block">Returns list of functions with list of function signatures for each functions.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getAllJarNames--">getAllJarNames</a></span>()</code>
<div class="block">Retrieves list of all jars name present in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>
 This is read operation, so several users can get this data.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry">FunctionHolder</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getAllJarsWithFunctionHolders--">getAllJarsWithFunctionHolders</a></span>()</code>
<div class="block">Retrieves all functions (holders) associated with all the jars
 This is read operation, so several users can perform this operation at the same time.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getFunctionNamesByJar-java.lang.String-">getFunctionNamesByJar</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</code>
<div class="block">Retrieves all function names associated with the jar from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getHoldersByFunctionName-java.lang.String-">getHoldersByFunctionName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName)</code>
<div class="block">Returns all function holders associated with function name without version number.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getHoldersByFunctionName-java.lang.String-java.util.concurrent.atomic.AtomicInteger-">getHoldersByFunctionName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;version)</code>
<div class="block">Returns all function holders associated with function name.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getJarNameByFunctionSignature-java.lang.String-java.lang.String-">getJarNameByFunctionSignature</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName,
                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionSignature)</code>
<div class="block">Looks which jar in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a> contains passed function signature.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#getVersion--">getVersion</a></span>()</code>
<div class="block">This is read operation, so several users at a time can get this data.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#removeJar-java.lang.String-">removeJar</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</code>
<div class="block">Removes jar from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a> and all associated with jar functions from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#functions"><code>functions</code></a>
 This is write operation, so one user at a time can call perform such action,
 others will wait till first user completes his action.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FunctionRegistryHolder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FunctionRegistryHolder</h4>
<pre>public&nbsp;FunctionRegistryHolder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;int&nbsp;getVersion()</pre>
<div class="block">This is read operation, so several users at a time can get this data.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>local function registry version number</dd>
</dl>
</li>
</ul>
<a name="addJars-java.util.Map-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addJars</h4>
<pre>public&nbsp;void&nbsp;addJars(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry">FunctionHolder</a>&gt;&gt;&nbsp;newJars,
                    int&nbsp;version)</pre>
<div class="block">Adds jars to the function registry.
 If jar with the same name already exists, it and its functions will be removed.
 Then jar will be added to <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>
 and each function will be added using <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#addFunctions-java.util.Map-java.util.List-"><code>addFunctions(Map, List)</code></a>.
 Registry version is updated with passed version if all jars were added successfully.
 This is write operation, so one user at a time can call perform such action,
 others will wait till first user completes his action.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newJars</code> - jars and list of their function holders, each contains function name, signature and holder</dd>
</dl>
</li>
</ul>
<a name="removeJar-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeJar</h4>
<pre>public&nbsp;void&nbsp;removeJar(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</pre>
<div class="block">Removes jar from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a> and all associated with jar functions from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#functions"><code>functions</code></a>
 This is write operation, so one user at a time can call perform such action,
 others will wait till first user completes his action.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jarName</code> - jar name to be removed</dd>
</dl>
</li>
</ul>
<a name="getAllJarNames--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllJarNames</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getAllJarNames()</pre>
<div class="block">Retrieves list of all jars name present in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>
 This is read operation, so several users can get this data.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of all jar names</dd>
</dl>
</li>
</ul>
<a name="getAllJarsWithFunctionHolders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllJarsWithFunctionHolders</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry">FunctionHolder</a>&gt;&gt;&nbsp;getAllJarsWithFunctionHolders()</pre>
<div class="block">Retrieves all functions (holders) associated with all the jars
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of all functions, mapped by their sources</dd>
</dl>
</li>
</ul>
<a name="getFunctionNamesByJar-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFunctionNamesByJar</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getFunctionNamesByJar(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</pre>
<div class="block">Retrieves all function names associated with the jar from <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>.
 Returns empty list if jar is not registered.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jarName</code> - jar name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of functions names associated from the jar</dd>
</dl>
</li>
</ul>
<a name="getAllFunctionsWithHolders-java.util.concurrent.atomic.AtomicInteger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFunctionsWithHolders</h4>
<pre>public&nbsp;org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;&nbsp;getAllFunctionsWithHolders(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;version)</pre>
<div class="block">Returns list of functions with list of function holders for each functions.
 Uses guava <code>ListMultimap</code> structure to return data.
 If no functions present, will return empty <code>ListMultimap</code>.
 If version holder is not null, updates it with current registry version number.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>version</code> - version holder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all functions which their holders</dd>
</dl>
</li>
</ul>
<a name="getAllFunctionsWithHolders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFunctionsWithHolders</h4>
<pre>public&nbsp;org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;&nbsp;getAllFunctionsWithHolders()</pre>
<div class="block">Returns list of functions with list of function holders for each functions without version number.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all functions which their holders</dd>
</dl>
</li>
</ul>
<a name="getAllFunctionsWithSignatures--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFunctionsWithSignatures</h4>
<pre>public&nbsp;org.apache.drill.shaded.guava.com.google.common.collect.ListMultimap&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getAllFunctionsWithSignatures()</pre>
<div class="block">Returns list of functions with list of function signatures for each functions.
 Uses guava <code>ListMultimap</code> structure to return data.
 If no functions present, will return empty <code>ListMultimap</code>.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all functions which their signatures</dd>
</dl>
</li>
</ul>
<a name="getHoldersByFunctionName-java.lang.String-java.util.concurrent.atomic.AtomicInteger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHoldersByFunctionName</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;&nbsp;getHoldersByFunctionName(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName,
                                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;version)</pre>
<div class="block">Returns all function holders associated with function name.
 If function is not present, will return empty list.
 If version holder is not null, updates it with current registry version number.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>functionName</code> - function name</dd>
<dd><code>version</code> - version holder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of function holders</dd>
</dl>
</li>
</ul>
<a name="getHoldersByFunctionName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHoldersByFunctionName</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../../org/apache/drill/exec/expr/fn/DrillFuncHolder.html" title="class in org.apache.drill.exec.expr.fn">DrillFuncHolder</a>&gt;&nbsp;getHoldersByFunctionName(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName)</pre>
<div class="block">Returns all function holders associated with function name without version number.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>functionName</code> - function name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of function holders</dd>
</dl>
</li>
</ul>
<a name="containsJar-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsJar</h4>
<pre>public&nbsp;boolean&nbsp;containsJar(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</pre>
<div class="block">Checks is jar is present in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a>.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jarName</code> - jar name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if jar exists, else false</dd>
</dl>
</li>
</ul>
<a name="functionsSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>functionsSize</h4>
<pre>public&nbsp;int&nbsp;functionsSize()</pre>
<div class="block">Returns quantity of functions stored in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#functions"><code>functions</code></a>.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>quantity of functions</dd>
</dl>
</li>
</ul>
<a name="getJarNameByFunctionSignature-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJarNameByFunctionSignature</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getJarNameByFunctionSignature(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionName,
                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;functionSignature)</pre>
<div class="block">Looks which jar in <a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html#jars"><code>jars</code></a> contains passed function signature.
 First looks by function name and if found checks if such function has passed function signature.
 Returns jar name if found matching function signature, else null.
 This is read operation, so several users can perform this operation at the same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>functionName</code> - function name</dd>
<dd><code>functionSignature</code> - function signature</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>jar name</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FunctionRegistryHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionHolder.html" title="class in org.apache.drill.exec.expr.fn.registry"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolderTest.html" title="class in org.apache.drill.exec.expr.fn.registry"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/drill/exec/expr/fn/registry/FunctionRegistryHolder.html" target="_top">Frames</a></li>
<li><a href="FunctionRegistryHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
