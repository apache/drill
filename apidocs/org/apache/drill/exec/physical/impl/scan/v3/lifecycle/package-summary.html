<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_251) on Wed Jun 09 23:40:48 PDT 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.apache.drill.exec.physical.impl.scan.v3.lifecycle (Drill : 1.19.0 API)</title>
<meta name="date" content="2021-06-09">
<link rel="stylesheet" type="text/css" href="../../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.apache.drill.exec.physical.impl.scan.v3.lifecycle (Drill : 1.19.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/file/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/schema/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../../index.html?org/apache/drill/exec/physical/impl/scan/v3/lifecycle/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.apache.drill.exec.physical.impl.scan.v3.lifecycle</h1>
<div class="docSummary">
<div class="block">Implements the details of the scan lifecycle for a set of readers,
 primarily the process of resolving the scan output schema from a variety
 of input schemas, then running each reader, each of which will produce
 some number of batches.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.BaseMockBatchReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.BaseMockBatchReader</a></td>
<td class="colLast">
<div class="block">Base class for the "mock" readers used in this test.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.DummySubScan.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.DummySubScan</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.FailingReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.FailingReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockEarlySchemaReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockEarlySchemaReader</a></td>
<td class="colLast">
<div class="block">"Early schema" refers to the case in which the reader can provide a schema
 when the reader is opened.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockEarlySchemaTypeConflictReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockEarlySchemaTypeConflictReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockEmptySchemaReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockEmptySchemaReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockLateSchemaReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockLateSchemaReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockLateSchemaTypeConflictReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockLateSchemaTypeConflictReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockModeConflictReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockModeConflictReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockReorderedReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockReorderedReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockSingleColReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockSingleColReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.MockThreeColReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.MockThreeColReader</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.NoDataReader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.NoDataReader</a></td>
<td class="colLast">
<div class="block">Mock reader with no data or schema, indicated by an early EOF
 exception.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.SingleReaderFactory.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.SingleReaderFactory</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/BaseTestScanLifecycle.TwoReaderFactory.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">BaseTestScanLifecycle.TwoReaderFactory</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/MissingColumnHandlerBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">MissingColumnHandlerBuilder</a></td>
<td class="colLast">
<div class="block">Builds the handler which provides values for columns in
 an explicit project list but for which
 the reader provides no values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/OutputBatchBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">OutputBatchBuilder</a></td>
<td class="colLast">
<div class="block">Builds an output batch based on an output schema and one or more input
 schemas.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/OutputBatchBuilder.BatchSource.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">OutputBatchBuilder.BatchSource</a></td>
<td class="colLast">
<div class="block">Describes an input batch with a schema and a vector container.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/OutputBatchBuilder.MapSource.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">OutputBatchBuilder.MapSource</a></td>
<td class="colLast">
<div class="block">Source map as a map schema and map vector.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/ReaderLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ReaderLifecycle</a></td>
<td class="colLast">
<div class="block">Manages the schema and batch construction for a managed reader.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/ScanEventListener.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanEventListener</a></td>
<td class="colLast">
<div class="block">Binds the scan lifeycle to the scan operator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/ScanLifecycle.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">ScanLifecycle</a></td>
<td class="colLast">
<div class="block">/**
 Basic scan framework for a set of "managed" readers and which uses the
 scan schema tracker to evolve the scan output schema.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/SchemaNegotiatorImpl.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">SchemaNegotiatorImpl</a></td>
<td class="colLast">
<div class="block">Implementation of the schema negotiation between scan operator and
 batch reader.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/StaticBatchBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">StaticBatchBuilder</a></td>
<td class="colLast">
<div class="block">Base class for columns that take values based on the
 reader, not individual rows.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/StaticBatchBuilder.NullBatchBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">StaticBatchBuilder.NullBatchBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/StaticBatchBuilder.RepeatedBatchBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">StaticBatchBuilder.RepeatedBatchBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestMissingColumnLoader.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestMissingColumnLoader</a></td>
<td class="colLast">
<div class="block">Test the mechanism that handles all-null columns during projection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestOutputBatchBuilder.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestOutputBatchBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestReaderErrors.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestReaderErrors</a></td>
<td class="colLast">
<div class="block">Verifies proper handling of errors from a reader, including use of the
 scan and reader error contexts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestScanLifecycleBasics.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestScanLifecycleBasics</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestScanLifecycleSchema.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestScanLifecycleSchema</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/lifecycle/TestScanLifecycleTwoReaders.html" title="class in org.apache.drill.exec.physical.impl.scan.v3.lifecycle">TestScanLifecycleTwoReaders</a></td>
<td class="colLast">
<div class="block">Test two readers in succession in various cases: empty readers, normal readers,
 type conflicts, etc.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.apache.drill.exec.physical.impl.scan.v3.lifecycle Description">Package org.apache.drill.exec.physical.impl.scan.v3.lifecycle Description</h2>
<div class="block">Implements the details of the scan lifecycle for a set of readers,
 primarily the process of resolving the scan output schema from a variety
 of input schemas, then running each reader, each of which will produce
 some number of batches. Handles missing and implicit columns.
 <p>
 Defines the projection, vector continuity and other operations for
 a set of one or more readers. Separates the core reader protocol from
 the logic of working with batches.

 <h4>Schema Evolution</h4>

 Drill discovers schema on the fly. The scan operator hosts multiple readers.
 In general, each reader may have a distinct schema, though the user typically
 arranges data in a way that scanned files have a common schema (else SQL
 is the wrong tool for analysis.) Still, subtle changes can occur: file A
 is an old version without a new column c, while file B includes the column.
 And so on.
 <p>
 The scan operator resolves the scan schema, striving to send a single, uniform
 schema downstream. That schema should represent the data from all readers
 in this scan and in other fragments of the same logical scan. The difficulty
 arises when the information available underdetermines the output schema:
 the mechanism here attempts to fill in gaps, and flags conflicts. Only a
 provided or defined schema (see <code>ScanSchemaTracker</code> resolves all
 ambiguities.)</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/file/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../../../../../../org/apache/drill/exec/physical/impl/scan/v3/schema/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../../index.html?org/apache/drill/exec/physical/impl/scan/v3/lifecycle/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
