<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_251) on Wed Jun 09 23:40:33 PDT 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TupleParser (Drill : 1.19.0 API)</title>
<meta name="date" content="2021-06-09">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TupleParser (Drill : 1.19.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TupleParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TestVariant.html" title="class in org.apache.drill.exec.store.easy.json.loader"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/VariantParser.html" title="class in org.apache.drill.exec.store.easy.json.loader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/drill/exec/store/easy/json/loader/TupleParser.html" target="_top">Frames</a></li>
<li><a href="TupleParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.drill.exec.store.easy.json.parser.ObjectParser">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.drill.exec.store.easy.json.loader</div>
<h2 title="Class TupleParser" class="title">Class TupleParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/AbstractElementParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">org.apache.drill.exec.store.easy.json.parser.AbstractElementParser</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">org.apache.drill.exec.store.easy.json.parser.ObjectParser</a></li>
<li>
<ul class="inheritance">
<li>org.apache.drill.exec.store.easy.json.loader.TupleParser</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TupleParser</span>
extends <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">ObjectParser</a></pre>
<div class="block">Accepts { name : value ... }
 <p>
 The structure parser maintains a map of known fields. Each time a
 field is parsed, looks up the field in the map. If not found, the parser
 looks ahead to find a value token, if any, and calls this class to add
 a new column. This class creates a column writer based either on the
 type provided in a provided schema, or inferred from the JSON token.
 <p>
 As it turns out, most of the semantic action occurs at the tuple level:
 that is where fields are defined, types inferred, and projection is
 computed.

 <h4>Nulls</h4>

 Much code here deals with null types, especially leading nulls, leading
 empty arrays, and so on. The object parser creates a parser for each
 value; a parser which "does the right thing" based on the data type.
 For example, for a Boolean, the parser recognizes <code>true</code>,
 <code>false</code> and <code>null</code>.
 <p>
 But what happens if the first value for a field is <code>null</code>? We
 don't know what kind of parser to create because we don't have a schema.
 Instead, we have to create a temporary placeholder parser that will consume
 nulls, waiting for a real type to show itself. Once that type appears, the
 null parser can replace itself with the correct form. Each vector's
 "fill empties" logic will back-fill the newly created vector with nulls
 for prior rows.
 <p>
 Two null parsers are needed: one when we see an empty list, and one for
 when we only see <code>null</code>. The one for null{@code  must morph into
 the one for empty lists if we see:<br>
 {@code {a: null} {a: [ ]  }}<br>
 <p>
 If we get all the way through the batch, but have still not seen a type,
 then we have to guess. A prototype type system can tell us, otherwise we
 guess {@code VARCHAR}. ({@code VARCHAR} is the right choice for all-text
 mode, it is as good a guess as any for other cases.)

 <h4>Projection List Hints</h4>

 To help, we consult the projection list, if any, for a column. If the
 projection is of the form {@code a[0]}, we know the column had better
 be an array. Similarly, if the projection list has {@code b.c}, then
 {@code b} had better be an object.

 <h4>Array Handling</h4>

 The code here handles arrays in two ways. JSON normally uses the
 {@code LIST} type. But, that can be expensive if lists are
 well-behaved. So, the code here also implements arrays using the
 classic {@code REPEATED} types. The repeated type option is disabled
 by default. It can be enabled, for efficiency, if Drill ever supports
 a JSON schema. If an array is well-behaved, mark that column as able
 to use a repeated type.

 <h4>Ambiguous Types</h4>

 JSON nulls are untyped. A run of nulls does not tell us what type will
 eventually appear. The best solution is to provide a schema. Without a
 schema, the code is forgiving: defers selection of the column type until
 the first non-null value (or, forces a type at the end of the batch.)
 <p>
 For scalars the pattern is: <code>{a: null} {a: "foo"}</code>. Type
 selection happens on the value {@code "foo"}.
 <p>
 For arrays, the pattern is: <code>{a: []} {a: ["foo"]}</code>. Type
 selection happens on the first array element. Note that type selection
 must happen on the first element, even if tha element is null (which,
 as we just said, ambiguous.)
 <p>
 If we are forced to pick a type (because we hit the end of a batch, or
 we see {@code [null]}, then we pick {@code VARCHAR} as we allow any
 scalar to be converted to {@code VARCHAR}. This helps for a single-file
 query, but not if multiple fragments each make their own (inconsistent)
 decisions. Only a schema provides a consistent answer.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.drill.exec.store.easy.json.parser.ObjectParser">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.drill.exec.store.easy.json.parser.<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">ObjectParser</a></h3>
<code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#logger">logger</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#TupleParser-org.apache.drill.exec.store.easy.json.loader.JsonLoaderImpl-org.apache.drill.exec.vector.accessor.TupleWriter-org.apache.drill.exec.record.metadata.TupleMetadata-">TupleParser</a></span>(<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a>&nbsp;loader,
           <a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a>&nbsp;tupleWriter,
           <a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;providedSchema)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#TupleParser-org.apache.drill.exec.store.easy.json.parser.JsonStructureParser-org.apache.drill.exec.store.easy.json.loader.JsonLoaderImpl-org.apache.drill.exec.vector.accessor.TupleWriter-org.apache.drill.exec.record.metadata.TupleMetadata-">TupleParser</a></span>(<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/JsonStructureParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">JsonStructureParser</a>&nbsp;structParser,
           <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a>&nbsp;loader,
           <a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a>&nbsp;tupleWriter,
           <a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;providedSchema)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/FieldFactory.html" title="interface in org.apache.drill.exec.store.easy.json.loader">FieldFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#fieldFactory--">fieldFactory</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#forceEmptyArrayResolution-java.lang.String-">forceEmptyArrayResolution</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#forceNullResolution-java.lang.String-">forceNullResolution</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#loader--">loader</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#onField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">onField</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
       <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</code>
<div class="block">The structure parser has just encountered a new field for this
 object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#providedSchema--">providedSchema</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#resolveArray-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">resolveArray</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
            <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#resolveField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">resolveField</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
            <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TupleParser.html#writer--">writer</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.drill.exec.store.easy.json.parser.ObjectParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.drill.exec.store.easy.json.parser.<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">ObjectParser</a></h3>
<code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#fieldParser-java.lang.String-">fieldParser</a>, <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#onEnd--">onEnd</a>, <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#onStart--">onStart</a>, <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#parse-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">parse</a>, <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#replaceFieldParser-java.lang.String-org.apache.drill.exec.store.easy.json.parser.ElementParser-">replaceFieldParser</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.drill.exec.store.easy.json.parser.AbstractElementParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.drill.exec.store.easy.json.parser.<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/AbstractElementParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">AbstractElementParser</a></h3>
<code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/AbstractElementParser.html#errorFactory--">errorFactory</a>, <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/AbstractElementParser.html#structParser--">structParser</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TupleParser-org.apache.drill.exec.store.easy.json.parser.JsonStructureParser-org.apache.drill.exec.store.easy.json.loader.JsonLoaderImpl-org.apache.drill.exec.vector.accessor.TupleWriter-org.apache.drill.exec.record.metadata.TupleMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TupleParser</h4>
<pre>public&nbsp;TupleParser(<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/JsonStructureParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">JsonStructureParser</a>&nbsp;structParser,
                   <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a>&nbsp;loader,
                   <a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a>&nbsp;tupleWriter,
                   <a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;providedSchema)</pre>
</li>
</ul>
<a name="TupleParser-org.apache.drill.exec.store.easy.json.loader.JsonLoaderImpl-org.apache.drill.exec.vector.accessor.TupleWriter-org.apache.drill.exec.record.metadata.TupleMetadata-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TupleParser</h4>
<pre>public&nbsp;TupleParser(<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a>&nbsp;loader,
                   <a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a>&nbsp;tupleWriter,
                   <a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;providedSchema)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="loader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loader</h4>
<pre>public&nbsp;<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/JsonLoaderImpl.html" title="class in org.apache.drill.exec.store.easy.json.loader">JsonLoaderImpl</a>&nbsp;loader()</pre>
</li>
</ul>
<a name="writer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writer</h4>
<pre>public&nbsp;<a href="../../../../../../../../org/apache/drill/exec/vector/accessor/TupleWriter.html" title="interface in org.apache.drill.exec.vector.accessor">TupleWriter</a>&nbsp;writer()</pre>
</li>
</ul>
<a name="providedSchema--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>providedSchema</h4>
<pre>protected&nbsp;<a href="../../../../../../../../org/apache/drill/exec/record/metadata/TupleMetadata.html" title="interface in org.apache.drill.exec.record.metadata">TupleMetadata</a>&nbsp;providedSchema()</pre>
</li>
</ul>
<a name="fieldFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fieldFactory</h4>
<pre>protected&nbsp;<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/FieldFactory.html" title="interface in org.apache.drill.exec.store.easy.json.loader">FieldFactory</a>&nbsp;fieldFactory()</pre>
</li>
</ul>
<a name="onField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onField</h4>
<pre>public&nbsp;<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a>&nbsp;onField(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
                             <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#onField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">ObjectParser</a></code></span></div>
<div class="block">The structure parser has just encountered a new field for this
 object. This method returns a parser for the field, along with
 an optional listener to handle events within the field. The field typically
 uses a value parser create by the <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/FieldParserFactory.html" title="class in org.apache.drill.exec.store.easy.json.parser"><code>FieldParserFactory</code></a> class.
 However, special cases (such as Mongo extended types) can create a
 custom parser.
 <p>
 If the field is not projected, the method should return a dummy parser
 from <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/FieldParserFactory.html#ignoredFieldParser--"><code>FieldParserFactory.ignoredFieldParser()</code></a>.
 The dummy parser will "free-wheel" over whatever values the
 field contains. (This is one way to avoid structure errors in a JSON file:
 just ignore them.) Otherwise, the parser will look ahead to guess the
 field type and will call one of the "add" methods, each of which should
 return a value listener for the field itself.
 <p>
 A normal field will respond to the structure of the JSON file as it
 appears. The associated value listener receives events for the
 field value. The value listener may be asked to create additional
 structure, such as arrays or nested objects.
 <p>
 Parse position: <code>{ ... field : ^ ?</code> for a newly-seen field.
 Constructs a value parser and its listeners by looking ahead
 some number of tokens to "sniff" the type of the value. For
 example:
 <ul>
 <li><code>foo: &lt;value&gt;</code> - Field value</li>
 <li><code>foo: [ &lt;value&gt; ]</code> - 1D array value</li>
 <li><code>foo: [ [&lt;value&gt; ] ]</code> - 2D array value</li>
 <li>Etc.</li>
 </ul>
 <p>
 There are two cases in which no type estimation is possible:
 <ul>
 <li><code>foo: null</code></li>
 <li><code>foo: []</code></li>
 </ul></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html#onField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">onField</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ObjectParser.html" title="class in org.apache.drill.exec.store.easy.json.parser">ObjectParser</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a parser for the newly-created field</dd>
</dl>
</li>
</ul>
<a name="resolveField-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveField</h4>
<pre>public&nbsp;<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a>&nbsp;resolveField(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
                                  <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</pre>
</li>
</ul>
<a name="resolveArray-java.lang.String-org.apache.drill.exec.store.easy.json.parser.TokenIterator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveArray</h4>
<pre>public&nbsp;<a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/ElementParser.html" title="interface in org.apache.drill.exec.store.easy.json.parser">ElementParser</a>&nbsp;resolveArray(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key,
                                  <a href="../../../../../../../../org/apache/drill/exec/store/easy/json/parser/TokenIterator.html" title="class in org.apache.drill.exec.store.easy.json.parser">TokenIterator</a>&nbsp;tokenizer)</pre>
</li>
</ul>
<a name="forceNullResolution-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceNullResolution</h4>
<pre>public&nbsp;void&nbsp;forceNullResolution(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key)</pre>
</li>
</ul>
<a name="forceEmptyArrayResolution-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>forceEmptyArrayResolution</h4>
<pre>public&nbsp;void&nbsp;forceEmptyArrayResolution(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;key)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TupleParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/TestVariant.html" title="class in org.apache.drill.exec.store.easy.json.loader"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../org/apache/drill/exec/store/easy/json/loader/VariantParser.html" title="class in org.apache.drill.exec.store.easy.json.loader"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?org/apache/drill/exec/store/easy/json/loader/TupleParser.html" target="_top">Frames</a></li>
<li><a href="TupleParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.apache.drill.exec.store.easy.json.parser.ObjectParser">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
